
<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Electron Hello World</title>
	<style>
		@media (prefers-color-scheme: dark) {
			html {
				background-color: #222222;
				color: white;
			}
		}
	</style>
</head>

<body style="font-family: Arial, Helvetica, sans-serif;">
	<div>
		<button id="messageButton" type='button' onclick='loadDoc()'>Get Message</button>
		<h1 id='heading'></h1>
	</div>

	<script>
		const loadDoc = () => {
			var xhttp = new XMLHttpRequest();
			document.getElementById('messageButton').disabled = true
			xhttp.onreadystatechange = (res) => {
				if (res.target.readyState == 4) {
					document.getElementById('messageButton').disabled = false
				}
				if (res.target.readyState == 4 && res.target.status == 200) {
					document.getElementById('messageButton').disabled = true
					document.getElementById('heading').innerHTML = res.target.responseText;
					setTimeout(() => {
						document.getElementById('messageButton').disabled = false
						document.getElementById('heading').innerHTML = ''
					}, 5000);
				}
			};
			xhttp.open('GET', 'http://localhost:7259/api/hello', true);
			xhttp.send();
		}
	</script>
</body>

</html>